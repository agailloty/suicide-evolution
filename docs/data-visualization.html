<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Data visualization | Overview of suicide in the world</title>
  <meta name="description" content="3 Data visualization | Overview of suicide in the world" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Data visualization | Overview of suicide in the world" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Data visualization | Overview of suicide in the world" />
  
  
  

<meta name="author" content="Axel-Cleris Gailloty" />


<meta name="date" content="2019-05-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-exploration.html"/>
<link rel="next" href="how-the-suicides-rates-have-evolved.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-7.0.1/css/motion.css" rel="stylesheet" />
<link href="libs/highcharts-7.0.1/css/htmlwdgtgrid.css" rel="stylesheet" />
<script src="libs/highcharts-7.0.1/highcharts.js"></script>
<script src="libs/highcharts-7.0.1/highcharts-3d.js"></script>
<script src="libs/highcharts-7.0.1/highcharts-more.js"></script>
<script src="libs/highcharts-7.0.1/modules/stock.js"></script>
<script src="libs/highcharts-7.0.1/modules/map.js"></script>
<script src="libs/highcharts-7.0.1/modules/annotations.js"></script>
<script src="libs/highcharts-7.0.1/modules/boost.js"></script>
<script src="libs/highcharts-7.0.1/modules/data.js"></script>
<script src="libs/highcharts-7.0.1/modules/drag-panes.js"></script>
<script src="libs/highcharts-7.0.1/modules/drilldown.js"></script>
<script src="libs/highcharts-7.0.1/modules/item-series.js"></script>
<script src="libs/highcharts-7.0.1/modules/offline-exporting.js"></script>
<script src="libs/highcharts-7.0.1/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-7.0.1/modules/exporting.js"></script>
<script src="libs/highcharts-7.0.1/modules/export-data.js"></script>
<script src="libs/highcharts-7.0.1/modules/funnel.js"></script>
<script src="libs/highcharts-7.0.1/modules/heatmap.js"></script>
<script src="libs/highcharts-7.0.1/modules/treemap.js"></script>
<script src="libs/highcharts-7.0.1/modules/sankey.js"></script>
<script src="libs/highcharts-7.0.1/modules/solid-gauge.js"></script>
<script src="libs/highcharts-7.0.1/modules/streamgraph.js"></script>
<script src="libs/highcharts-7.0.1/modules/sunburst.js"></script>
<script src="libs/highcharts-7.0.1/modules/vector.js"></script>
<script src="libs/highcharts-7.0.1/modules/wordcloud.js"></script>
<script src="libs/highcharts-7.0.1/modules/xrange.js"></script>
<script src="libs/highcharts-7.0.1/modules/tilemap.js"></script>
<script src="libs/highcharts-7.0.1/modules/venn.js"></script>
<script src="libs/highcharts-7.0.1/modules/gantt.js"></script>
<script src="libs/highcharts-7.0.1/modules/timeline.js"></script>
<script src="libs/highcharts-7.0.1/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-7.0.1/plugins/grouped-categories.js"></script>
<script src="libs/highcharts-7.0.1/plugins/motion.js"></script>
<script src="libs/highcharts-7.0.1/plugins/multicolor_series.js"></script>
<script src="libs/highcharts-7.0.1/custom/reset.js"></script>
<script src="libs/highcharts-7.0.1/custom/symbols-extra.js"></script>
<script src="libs/highcharts-7.0.1/custom/text-symbols.js"></script>
<script src="libs/highchart-binding-0.7.0/highchart.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction-to-the-project.html"><a href="introduction-to-the-project.html"><i class="fa fa-check"></i><b>1</b> Introduction to the project</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-the-project.html"><a href="introduction-to-the-project.html#variable-definition"><i class="fa fa-check"></i><b>1.1</b> Variable definition</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-exploration.html"><a href="data-exploration.html"><i class="fa fa-check"></i><b>2</b> Data exploration</a><ul>
<li class="chapter" data-level="2.1" data-path="data-exploration.html"><a href="data-exploration.html#missing-values-checking-and-fixing"><i class="fa fa-check"></i><b>2.1</b> Missing values checking and fixing</a></li>
<li class="chapter" data-level="2.2" data-path="data-exploration.html"><a href="data-exploration.html#qualitative-variables-frequencies"><i class="fa fa-check"></i><b>2.2</b> Qualitative variables frequencies</a><ul>
<li class="chapter" data-level="2.2.1" data-path="data-exploration.html"><a href="data-exploration.html#generation"><i class="fa fa-check"></i><b>2.2.1</b> Génération</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-exploration.html"><a href="data-exploration.html#age-groups"><i class="fa fa-check"></i><b>2.2.2</b> Age groups</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-exploration.html"><a href="data-exploration.html#by-sex"><i class="fa fa-check"></i><b>2.2.3</b> By sex</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-exploration.html"><a href="data-exploration.html#data-by-year"><i class="fa fa-check"></i><b>2.3</b> Data by year</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>3</b> Data visualization</a><ul>
<li class="chapter" data-level="3.1" data-path="data-visualization.html"><a href="data-visualization.html#suicide-rates-by-sex-and-age-group"><i class="fa fa-check"></i><b>3.1</b> Suicide rates by sex and age group</a></li>
<li class="chapter" data-level="3.2" data-path="data-visualization.html"><a href="data-visualization.html#analysis-of-variance-anova"><i class="fa fa-check"></i><b>3.2</b> Analysis of variance (ANOVA)</a></li>
<li class="chapter" data-level="3.3" data-path="data-visualization.html"><a href="data-visualization.html#correlation-between-pairs-of-quantitative-variables"><i class="fa fa-check"></i><b>3.3</b> Correlation between pairs of quantitative variables</a></li>
<li class="chapter" data-level="3.4" data-path="data-visualization.html"><a href="data-visualization.html#lets-use-the-variable-gdp-for-year-gross-domestic-product-of-the-year"><i class="fa fa-check"></i><b>3.4</b> Let’s use the variable GDP for year (gross domestic product of the year)</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="how-the-suicides-rates-have-evolved.html"><a href="how-the-suicides-rates-have-evolved.html"><i class="fa fa-check"></i><b>4</b> How the suicides rates have evolved ?</a></li>
<li class="chapter" data-level="5" data-path="multivariate-data-analysis.html"><a href="multivariate-data-analysis.html"><i class="fa fa-check"></i><b>5</b> Multivariate Data Analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="multivariate-data-analysis.html"><a href="multivariate-data-analysis.html#in-1986"><i class="fa fa-check"></i><b>5.1</b> In 1986</a></li>
<li class="chapter" data-level="5.2" data-path="multivariate-data-analysis.html"><a href="multivariate-data-analysis.html#in-2015"><i class="fa fa-check"></i><b>5.2</b> In 2015</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="link-between-wealth-and-suicide.html"><a href="link-between-wealth-and-suicide.html"><i class="fa fa-check"></i><b>6</b> Link between wealth and suicide</a></li>
<li class="chapter" data-level="7" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>7</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Overview of suicide in the world</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-visualization" class="section level1">
<h1><span class="header-section-number">3</span> Data visualization</h1>
<p>In this section we are going to visualize the data.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">theme_set</span>(<span class="kw">theme_economist</span>())</a></code></pre></div>
<div id="suicide-rates-by-sex-and-age-group" class="section level2">
<h2><span class="header-section-number">3.1</span> Suicide rates by sex and age group</h2>
<p><img src="suicide_files/figure-html/unnamed-chunk-12-1.png" width="960" /></p>
<p>This graphs displays a lot of information.
For all the times, all the age groups the suicide rate is higher for men than women.
This means that the variable <code>sex</code> differentiates the population of this dataset. We can check this with an analysis of variance.</p>
</div>
<div id="analysis-of-variance-anova" class="section level2">
<h2><span class="header-section-number">3.2</span> Analysis of variance (ANOVA)</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">temp &lt;-<span class="st"> </span>suicide <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(year,sex, age) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">summarize</span>(<span class="dt">moy_suicide =</span> <span class="kw">mean</span>(suicides<span class="fl">.100</span>k.pop))</a>
<a class="sourceLine" id="cb13-3" title="3">fit &lt;-<span class="st"> </span><span class="kw">aov</span>(<span class="dt">formula =</span> moy_suicide<span class="op">~</span>age<span class="op">+</span>sex, <span class="dt">data =</span> temp)</a>
<a class="sourceLine" id="cb13-4" title="4"><span class="kw">summary</span>(fit)</a></code></pre></div>
<pre><code>##              Df Sum Sq Mean Sq F value Pr(&gt;F)    
## age           5  19222    3844   171.4 &lt;2e-16 ***
## sex           1  20754   20754   925.1 &lt;2e-16 ***
## Residuals   375   8413      22                   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>There’s a statistically significant difference between the two groups (men and women). This difference is stronger than the age group. (Look at the F value, by default R doesn’t print numbers &lt; to 2e-16)</p>
</div>
<div id="correlation-between-pairs-of-quantitative-variables" class="section level2">
<h2><span class="header-section-number">3.3</span> Correlation between pairs of quantitative variables</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">options</span>(<span class="dt">repr.plot.height =</span> <span class="dv">4</span>, <span class="dt">repr.plot.res =</span> <span class="dv">180</span>, <span class="dt">repr.plot.width =</span> <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb15-2" title="2">suicide[,<span class="kw">sapply</span>(suicide, is.numeric)] <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="kw">cor</span>(<span class="dt">use =</span> <span class="st">&quot;complete.obs&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggcorrplot</span>(<span class="dt">hc.order =</span> <span class="ot">TRUE</span>, <span class="dt">type =</span> <span class="st">&quot;lower&quot;</span>,</a>
<a class="sourceLine" id="cb15-4" title="4">   <span class="dt">lab =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Pearson&#39;s correlation of the numeric variables&quot;</span>)</a></code></pre></div>
<p><img src="suicide_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>This graph of correlations tells us a lot of things. Let’s start with the variables of economic nature such as the HDI (Human Development Index), GDP (Gross Domestic Product).</p>
<p>We observe from the graph that the human development index correlates positively with the per capita GDP (0.77), which means that these two variables tend to go in the same direction. GDP correlates positively with the population. . But beware it is only a correlation and this coefficient does not translate a causality.
For example, the number of suicide is positively correlated with the country, if we want to summarize it in a fatalistic way then it seems that the more the rich country the more the people commit suicide, which is false. The reason for this correlation is that it is a time series: the number of suicide increases with the growth of the population which itself increases with time, the same goes for the GDP, which increases every year.</p>
<p>When we express the number of suicides for a population of 10,000, we can clearly see that GDP has a very weak influence.</p>
</div>
<div id="lets-use-the-variable-gdp-for-year-gross-domestic-product-of-the-year" class="section level2">
<h2><span class="header-section-number">3.4</span> Let’s use the variable GDP for year (gross domestic product of the year)</h2>
<p>A priori this variable is not in a numeric format. Considering the case of Albania in 1987, we have a GDP for men of 15-24 of 2,156,624,900. it does not mean anything because the GDP does not depend on a category of the population. This number is repeated for all age categories.</p>
<p>Thanks to <a href="https://www.google.com/publicdata/explore?ds=d5bncppjof8f9_&amp;met_y=ny_gdp_mktp_cd&amp;idim=country:ALB:MKD:MNE&amp;hl=fr&amp;dl=fr">Google</a> we can see clearly.</p>
<p>In 1987, Albania’s GDP was about 2.156 billion dollars.
It is therefore concluded that this value is redundant to preserve the integrity of the tabular format of the database because a country has only one GDP while one country can be divided into several categories.</p>
<p>We will therefore correct this variable in order to use it in the following analysis</p>
<p>In order for us to be able to use this variable, we will divide the GDP by age group, so we can easily sum them up when we group the data.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">suicide<span class="op">$</span>gdp &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>,suicide<span class="op">$</span>gdp_for_year....) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.numeric</span>()</a>
<a class="sourceLine" id="cb16-2" title="2">gdp &lt;-<span class="st"> </span>suicide <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(country, year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="kw">summarize</span>(<span class="dt">occurence =</span> <span class="kw">n</span>(), <span class="dt">gdp =</span> <span class="kw">sum</span>(gdp)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">real_gdp =</span> gdp<span class="op">/</span>occurence)</a></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1">france &lt;-<span class="st"> </span>gdp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;France&quot;</span>)</a>
<a class="sourceLine" id="cb17-2" title="2">germany &lt;-<span class="st"> </span>gdp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;Germany&quot;</span>)</a>
<a class="sourceLine" id="cb17-3" title="3">canada &lt;-<span class="st"> </span>gdp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;Canada&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-dd91d80711696a0d012e" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-dd91d80711696a0d012e">{"x":{"hc_opts":{"title":{"text":"GDP evolution"},"yAxis":{"title":{"text":"GDP (trillions"}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"data":[553138414367,771470783218,934173305686,1018847043277,1025211803414,1269179616914,1269276828276,1401465923172,1322815612694,1393982750473,1601094756210,1605675086550,1452884917959,1503108739159,1492647560196,1362248940483,1376465324385,1494286655374,1840480812641,2115742488205,2196126103718,2318593651988,2657213249384,2918382891460,2690222283968,2642609548930,2861408170265,2683825225093,2811077725704,2852165760630],"name":"France"},{"data":[1764967948917,1861873895109,2123130870382,2068555542411,2205966011812,2591620035485,2503665193657,2218689375141,2243225519618,2199957383337,1949953934034,1950648769575,2079136081310,2505733634312,2819245095605,2861410272354,3002446368084,3439953462907,3752365607148,3418005001389,3417094562649,3757698281118,3543983909148,3752513503278,3890606893347,3375611100742],"name":"Germany"},{"data":[364756499451,377437927312,431316742081,507354351182,565055743243,593929550908,610328183643,592387689253,577170761956,578139279438,604031623433,628546387972,652825364726,631813279407,676082654641,742293448253,736379777893,757950678647,892380986368,1023196003075,1169357979865,1315415197461,1464977190206,1549131208997,1371153004986,1613464422811,1788647906048,1824288757448,1842628005830],"name":"Canada"}],"xAxis":{"categories":[1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014]}},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p>We can now use this variable for the rest of our study since we know it represents the GDP. We could verify it by multiplying the GDP per capita by the population.</p>
<p>Let’s continue to visualize the data by creating treemaps so we can see the importance of each country according to the numerical variables of the dataset.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">gdp_<span class="dv">2014</span> &lt;-<span class="st"> </span>suicide <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(country, year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw">summarize</span>(<span class="dt">occurence =</span> <span class="kw">n</span>(), <span class="dt">gdp =</span> <span class="kw">sum</span>(gdp)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">real_gdp =</span> gdp<span class="op">/</span>occurence) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2014</span>)</a></code></pre></div>
<pre><code>## Warning: &#39;hc_add_series_treemap&#39; is deprecated.
## Use &#39;hctreemap&#39; instead.
## See help(&quot;Deprecated&quot;)</code></pre>
<div id="htmlwidget-e44b90d5dde98b169b7a" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-e44b90d5dde98b169b7a">{"x":{"hc_opts":{"title":{"text":"World GDP share in 2014"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"data":[{"name":"Antigua and Barbuda","value":1280133333,"valuecolor":1,"level":1,"color":"#E19B7A","id":"antigua_and_barbuda"},{"name":"Argentina","value":526319673732,"valuecolor":1,"level":1,"color":"#EB9398","id":"argentina"},{"name":"Armenia","value":11609512940,"valuecolor":1,"level":1,"color":"#ED8EB6","id":"armenia"},{"name":"Australia","value":1464955475994,"valuecolor":1,"level":1,"color":"#E68ECF","id":"australia"},{"name":"Austria","value":441885415806,"valuecolor":1,"level":1,"color":"#D494E1","id":"austria"},{"name":"Bahrain","value":33387712766,"valuecolor":1,"level":1,"color":"#B69FEB","id":"bahrain"},{"name":"Belarus","value":78813839984,"valuecolor":1,"level":1,"color":"#8CABEB","id":"belarus"},{"name":"Belgium","value":530770977634,"valuecolor":1,"level":1,"color":"#56B6E1","id":"belgium"},{"name":"Belize","value":1703951050,"valuecolor":1,"level":1,"color":"#00BDCF","id":"belize"},{"name":"Bosnia and Herzegovina","value":18558343508,"valuecolor":1,"level":1,"color":"#00C1B7","id":"bosnia_and_herzegovina"},{"name":"Brazil","value":2455993625159,"valuecolor":1,"level":1,"color":"#18C19B","id":"brazil"},{"name":"Bulgaria","value":56731990232,"valuecolor":1,"level":1,"color":"#5CBE7D","id":"bulgaria"},{"name":"Chile","value":260584090571,"valuecolor":1,"level":1,"color":"#87B962","id":"chile"},{"name":"Colombia","value":378195716714,"valuecolor":1,"level":1,"color":"#A8B251","id":"colombia"},{"name":"Costa Rica","value":50577769838,"valuecolor":1,"level":1,"color":"#C3A954","id":"costa_rica"},{"name":"Croatia","value":57629518806,"valuecolor":1,"level":1,"color":"#D8A069","id":"croatia"},{"name":"Cuba","value":80656100000,"valuecolor":1,"level":1,"color":"#E69786","id":"cuba"},{"name":"Cyprus","value":23359294149,"valuecolor":1,"level":1,"color":"#ED90A4","id":"cyprus"},{"name":"Czech Republic","value":207818330724,"valuecolor":1,"level":1,"color":"#EC8DC0","id":"czech_republic"},{"name":"Denmark","value":352993633221,"valuecolor":1,"level":1,"color":"#E090D7","id":"denmark"},{"name":"Ecuador","value":101726331000,"valuecolor":1,"level":1,"color":"#C998E7","id":"ecuador"},{"name":"El Salvador","value":22585841200,"valuecolor":1,"level":1,"color":"#A6A4EC","id":"el_salvador"},{"name":"Estonia","value":26224622451,"valuecolor":1,"level":1,"color":"#78B0E8","id":"estonia"},{"name":"Finland","value":272609288690,"valuecolor":1,"level":1,"color":"#3BB9DB","id":"finland"},{"name":"France","value":2852165760630,"valuecolor":1,"level":1,"color":"#00BFC6","id":"france"},{"name":"Georgia","value":16509305828,"valuecolor":1,"level":1,"color":"#00C1AC","id":"georgia"},{"name":"Germany","value":3890606893347,"valuecolor":1,"level":1,"color":"#3AC08F","id":"germany"},{"name":"Greece","value":237029579261,"valuecolor":1,"level":1,"color":"#6EBD72","id":"greece"},{"name":"Grenada","value":911481481,"valuecolor":1,"level":1,"color":"#95B75A","id":"grenada"},{"name":"Guatemala","value":58722323918,"valuecolor":1,"level":1,"color":"#B4AF4F","id":"guatemala"},{"name":"Hungary","value":140118140455,"valuecolor":1,"level":1,"color":"#CCA65B","id":"hungary"},{"name":"Iceland","value":17304033021,"valuecolor":1,"level":1,"color":"#DE9C74","id":"iceland"},{"name":"Ireland","value":258099014042,"valuecolor":1,"level":1,"color":"#EA9492","id":"ireland"},{"name":"Israel","value":308416982140,"valuecolor":1,"level":1,"color":"#EE8EB0","id":"israel"},{"name":"Italy","value":2151732868243,"valuecolor":1,"level":1,"color":"#E88ECA","id":"italy"},{"name":"Japan","value":4850413536038,"valuecolor":1,"level":1,"color":"#D893DE","id":"japan"},{"name":"Kazakhstan","value":221415572820,"valuecolor":1,"level":1,"color":"#BD9DEA","id":"kazakhstan"},{"name":"Kuwait","value":162631412509,"valuecolor":1,"level":1,"color":"#96A9EC","id":"kuwait"},{"name":"Kyrgyzstan","value":7468096567,"valuecolor":1,"level":1,"color":"#63B4E4","id":"kyrgyzstan"},{"name":"Latvia","value":31335013752,"valuecolor":1,"level":1,"color":"#12BCD4","id":"latvia"},{"name":"Lithuania","value":48516371721,"valuecolor":1,"level":1,"color":"#00C0BC","id":"lithuania"},{"name":"Luxembourg","value":66327344189,"valuecolor":1,"level":1,"color":"#00C1A1","id":"luxembourg"},{"name":"Malta","value":11234045376,"valuecolor":1,"level":1,"color":"#52BF83","id":"malta"},{"name":"Mauritius","value":12803445934,"valuecolor":1,"level":1,"color":"#7FBA67","id":"mauritius"},{"name":"Mexico","value":1314385330073,"valuecolor":1,"level":1,"color":"#A2B353","id":"mexico"},{"name":"Netherlands","value":879635084125,"valuecolor":1,"level":1,"color":"#BEAB52","id":"netherlands"},{"name":"Nicaragua","value":11880438824,"valuecolor":1,"level":1,"color":"#D4A264","id":"nicaragua"},{"name":"Norway","value":499338534779,"valuecolor":1,"level":1,"color":"#E49980","id":"norway"},{"name":"Oman","value":81076723017,"valuecolor":1,"level":1,"color":"#EC919E","id":"oman"},{"name":"Panama","value":49921464400,"valuecolor":1,"level":1,"color":"#ED8EBB","id":"panama"},{"name":"Paraguay","value":30881166852,"valuecolor":1,"level":1,"color":"#E38FD3","id":"paraguay"},{"name":"Poland","value":545179584720,"valuecolor":1,"level":1,"color":"#CF96E4","id":"poland"},{"name":"Portugal","value":229629822122,"valuecolor":1,"level":1,"color":"#AFA1EC","id":"portugal"},{"name":"Puerto Rico","value":102445800000,"valuecolor":1,"level":1,"color":"#83ADEA","id":"puerto_rico"},{"name":"Qatar","value":206224725275,"valuecolor":1,"level":1,"color":"#4BB7DF","id":"qatar"},{"name":"Republic of Korea","value":1411333926201,"valuecolor":1,"level":1,"color":"#00BECB","id":"republic_of_korea"},{"name":"Romania","value":199493490983,"valuecolor":1,"level":1,"color":"#00C1B2","id":"romania"},{"name":"Russian Federation","value":2063662665172,"valuecolor":1,"level":1,"color":"#2CC195","id":"russian_federation"},{"name":"Saint Lucia","value":1551921037,"valuecolor":1,"level":1,"color":"#66BD77","id":"saint_lucia"},{"name":"Saint Vincent and Grenadines","value":725185185,"valuecolor":1,"level":1,"color":"#8EB85D","id":"saint_vincent_and_grenadines"},{"name":"Serbia","value":44210806366,"valuecolor":1,"level":1,"color":"#AEB050","id":"serbia"},{"name":"Seychelles","value":1342997306,"valuecolor":1,"level":1,"color":"#C8A757","id":"seychelles"},{"name":"Singapore","value":311539499645,"valuecolor":1,"level":1,"color":"#DB9E6E","id":"singapore"},{"name":"Slovakia","value":100948236941,"valuecolor":1,"level":1,"color":"#E8968C","id":"slovakia"},{"name":"Slovenia","value":49904928335,"valuecolor":1,"level":1,"color":"#EE8FAA","id":"slovenia"},{"name":"South Africa","value":350904575292,"valuecolor":1,"level":1,"color":"#EA8DC5","id":"south_africa"},{"name":"Spain","value":1376910811041,"valuecolor":1,"level":1,"color":"#DD91DB","id":"spain"},{"name":"Suriname","value":5240606061,"valuecolor":1,"level":1,"color":"#C39BE8","id":"suriname"},{"name":"Sweden","value":573817719109,"valuecolor":1,"level":1,"color":"#9EA6EC","id":"sweden"},{"name":"Switzerland","value":709182559935,"valuecolor":1,"level":1,"color":"#6EB2E6","id":"switzerland"},{"name":"Thailand","value":407339361696,"valuecolor":1,"level":1,"color":"#2ABAD7","id":"thailand"},{"name":"Turkey","value":934185915467,"valuecolor":1,"level":1,"color":"#00C0C1","id":"turkey"},{"name":"Turkmenistan","value":43524210526,"valuecolor":1,"level":1,"color":"#00C1A6","id":"turkmenistan"},{"name":"Ukraine","value":133503411376,"valuecolor":1,"level":1,"color":"#47C089","id":"ukraine"},{"name":"United Kingdom","value":3022827781881,"valuecolor":1,"level":1,"color":"#77BB6C","id":"united_kingdom"},{"name":"United States","value":17427609000000,"valuecolor":1,"level":1,"color":"#9CB556","id":"united_states"},{"name":"Uruguay","value":57236013086,"valuecolor":1,"level":1,"color":"#B9AD50","id":"uruguay"},{"name":"Uzbekistan","value":63067077179,"valuecolor":1,"level":1,"color":"#D0A45F","id":"uzbekistan"}],"type":"treemap","layoutAlgorithm":"squarified"}]},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p>The US economy is really big. But China and India which also are big economies are missing in the dataset leaving Japan to be the second world highest GDP.<br />
Let’s plot this same treemap but with GDP per capita to see how things change.</p>
<pre><code>## Warning: &#39;hc_add_series_treemap&#39; is deprecated.
## Use &#39;hctreemap&#39; instead.
## See help(&quot;Deprecated&quot;)</code></pre>
<div id="htmlwidget-01fc17dec4ecf91c1185" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-01fc17dec4ecf91c1185">{"x":{"hc_opts":{"title":{"text":"GDP per capita in 2014"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"data":[{"name":"Antigua and Barbuda","value":14093,"valuecolor":1,"level":1,"color":"#E19B7A","id":"antigua_and_barbuda"},{"name":"Argentina","value":13400,"valuecolor":1,"level":1,"color":"#EB9398","id":"argentina"},{"name":"Armenia","value":4142,"valuecolor":1,"level":1,"color":"#ED8EB6","id":"armenia"},{"name":"Australia","value":66809,"valuecolor":1,"level":1,"color":"#E68ECF","id":"australia"},{"name":"Austria","value":54278,"valuecolor":1,"level":1,"color":"#D494E1","id":"austria"},{"name":"Bahrain","value":27503,"valuecolor":1,"level":1,"color":"#B69FEB","id":"bahrain"},{"name":"Belarus","value":8849,"valuecolor":1,"level":1,"color":"#8CABEB","id":"belarus"},{"name":"Belgium","value":50173,"valuecolor":1,"level":1,"color":"#56B6E1","id":"belgium"},{"name":"Belize","value":5448,"valuecolor":1,"level":1,"color":"#00BDCF","id":"belize"},{"name":"Bosnia and Herzegovina","value":5079,"valuecolor":1,"level":1,"color":"#00C1B7","id":"bosnia_and_herzegovina"},{"name":"Brazil","value":12975,"valuecolor":1,"level":1,"color":"#18C19B","id":"brazil"},{"name":"Bulgaria","value":8241,"valuecolor":1,"level":1,"color":"#5CBE7D","id":"bulgaria"},{"name":"Chile","value":15883,"valuecolor":1,"level":1,"color":"#87B962","id":"chile"},{"name":"Colombia","value":8591,"valuecolor":1,"level":1,"color":"#A8B251","id":"colombia"},{"name":"Costa Rica","value":11485,"valuecolor":1,"level":1,"color":"#C3A954","id":"costa_rica"},{"name":"Croatia","value":14299,"valuecolor":1,"level":1,"color":"#D8A069","id":"croatia"},{"name":"Cuba","value":7459,"valuecolor":1,"level":1,"color":"#E69786","id":"cuba"},{"name":"Cyprus","value":29024,"valuecolor":1,"level":1,"color":"#ED90A4","id":"cyprus"},{"name":"Czech Republic","value":20859,"valuecolor":1,"level":1,"color":"#EC8DC0","id":"czech_republic"},{"name":"Denmark","value":66114,"valuecolor":1,"level":1,"color":"#E090D7","id":"denmark"},{"name":"Ecuador","value":7116,"valuecolor":1,"level":1,"color":"#C998E7","id":"ecuador"},{"name":"El Salvador","value":3965,"valuecolor":1,"level":1,"color":"#A6A4EC","id":"el_salvador"},{"name":"Estonia","value":21117,"valuecolor":1,"level":1,"color":"#78B0E8","id":"estonia"},{"name":"Finland","value":52832,"valuecolor":1,"level":1,"color":"#3BB9DB","id":"finland"},{"name":"France","value":47318,"valuecolor":1,"level":1,"color":"#00BFC6","id":"france"},{"name":"Georgia","value":4757,"valuecolor":1,"level":1,"color":"#00C1AC","id":"georgia"},{"name":"Germany","value":50167,"valuecolor":1,"level":1,"color":"#3AC08F","id":"germany"},{"name":"Greece","value":22834,"valuecolor":1,"level":1,"color":"#6EBD72","id":"greece"},{"name":"Grenada","value":9456,"valuecolor":1,"level":1,"color":"#95B75A","id":"grenada"},{"name":"Guatemala","value":4210,"valuecolor":1,"level":1,"color":"#B4AF4F","id":"guatemala"},{"name":"Hungary","value":14886,"valuecolor":1,"level":1,"color":"#CCA65B","id":"hungary"},{"name":"Iceland","value":56833,"valuecolor":1,"level":1,"color":"#DE9C74","id":"iceland"},{"name":"Ireland","value":59634,"valuecolor":1,"level":1,"color":"#EA9492","id":"ireland"},{"name":"Israel","value":41869,"valuecolor":1,"level":1,"color":"#EE8EB0","id":"israel"},{"name":"Italy","value":37035,"valuecolor":1,"level":1,"color":"#E88ECA","id":"italy"},{"name":"Japan","value":40328,"valuecolor":1,"level":1,"color":"#D893DE","id":"japan"},{"name":"Kazakhstan","value":14351,"valuecolor":1,"level":1,"color":"#BD9DEA","id":"kazakhstan"},{"name":"Kuwait","value":43774,"valuecolor":1,"level":1,"color":"#96A9EC","id":"kuwait"},{"name":"Kyrgyzstan","value":1465,"valuecolor":1,"level":1,"color":"#63B4E4","id":"kyrgyzstan"},{"name":"Latvia","value":16544,"valuecolor":1,"level":1,"color":"#12BCD4","id":"latvia"},{"name":"Lithuania","value":17442,"valuecolor":1,"level":1,"color":"#00C0BC","id":"lithuania"},{"name":"Luxembourg","value":126352,"valuecolor":1,"level":1,"color":"#00C1A1","id":"luxembourg"},{"name":"Malta","value":27634,"valuecolor":1,"level":1,"color":"#52BF83","id":"malta"},{"name":"Mauritius","value":11120,"valuecolor":1,"level":1,"color":"#7FBA67","id":"mauritius"},{"name":"Mexico","value":11663,"valuecolor":1,"level":1,"color":"#A2B353","id":"mexico"},{"name":"Netherlands","value":55325,"valuecolor":1,"level":1,"color":"#BEAB52","id":"netherlands"},{"name":"Nicaragua","value":2199,"valuecolor":1,"level":1,"color":"#D4A264","id":"nicaragua"},{"name":"Norway","value":103443,"valuecolor":1,"level":1,"color":"#E49980","id":"norway"},{"name":"Oman","value":22328,"valuecolor":1,"level":1,"color":"#EC919E","id":"oman"},{"name":"Panama","value":14181,"valuecolor":1,"level":1,"color":"#ED8EBB","id":"panama"},{"name":"Paraguay","value":5254,"valuecolor":1,"level":1,"color":"#E38FD3","id":"paraguay"},{"name":"Poland","value":15119,"valuecolor":1,"level":1,"color":"#CF96E4","id":"poland"},{"name":"Portugal","value":23091,"valuecolor":1,"level":1,"color":"#AFA1EC","id":"portugal"},{"name":"Puerto Rico","value":29515,"valuecolor":1,"level":1,"color":"#83ADEA","id":"puerto_rico"},{"name":"Qatar","value":91587,"valuecolor":1,"level":1,"color":"#4BB7DF","id":"qatar"},{"name":"Republic of Korea","value":29120,"valuecolor":1,"level":1,"color":"#00BECB","id":"republic_of_korea"},{"name":"Romania","value":10526,"valuecolor":1,"level":1,"color":"#00C1B2","id":"romania"},{"name":"Russian Federation","value":15319,"valuecolor":1,"level":1,"color":"#2CC195","id":"russian_federation"},{"name":"Saint Lucia","value":9372,"valuecolor":1,"level":1,"color":"#66BD77","id":"saint_lucia"},{"name":"Saint Vincent and Grenadines","value":7203,"valuecolor":1,"level":1,"color":"#8EB85D","id":"saint_vincent_and_grenadines"},{"name":"Serbia","value":6500,"valuecolor":1,"level":1,"color":"#AEB050","id":"serbia"},{"name":"Seychelles","value":16018,"valuecolor":1,"level":1,"color":"#C8A757","id":"seychelles"},{"name":"Singapore","value":84442,"valuecolor":1,"level":1,"color":"#DB9E6E","id":"singapore"},{"name":"Slovakia","value":19679,"valuecolor":1,"level":1,"color":"#E8968C","id":"slovakia"},{"name":"Slovenia","value":25569,"valuecolor":1,"level":1,"color":"#EE8FAA","id":"slovenia"},{"name":"South Africa","value":7174,"valuecolor":1,"level":1,"color":"#EA8DC5","id":"south_africa"},{"name":"Spain","value":31171,"valuecolor":1,"level":1,"color":"#DD91DB","id":"spain"},{"name":"Suriname","value":10530,"valuecolor":1,"level":1,"color":"#C39BE8","id":"suriname"},{"name":"Sweden","value":62956,"valuecolor":1,"level":1,"color":"#9EA6EC","id":"sweden"},{"name":"Switzerland","value":90809,"valuecolor":1,"level":1,"color":"#6EB2E6","id":"switzerland"},{"name":"Thailand","value":6662,"valuecolor":1,"level":1,"color":"#2ABAD7","id":"thailand"},{"name":"Turkey","value":13170,"valuecolor":1,"level":1,"color":"#00C0C1","id":"turkey"},{"name":"Turkmenistan","value":9046,"valuecolor":1,"level":1,"color":"#00C1A6","id":"turkmenistan"},{"name":"Ukraine","value":3299,"valuecolor":1,"level":1,"color":"#47C089","id":"ukraine"},{"name":"United Kingdom","value":49906,"valuecolor":1,"level":1,"color":"#77BB6C","id":"united_kingdom"},{"name":"United States","value":58531,"valuecolor":1,"level":1,"color":"#9CB556","id":"united_states"},{"name":"Uruguay","value":18012,"valuecolor":1,"level":1,"color":"#B9AD50","id":"uruguay"},{"name":"Uzbekistan","value":2309,"valuecolor":1,"level":1,"color":"#D0A45F","id":"uzbekistan"}],"type":"treemap","layoutAlgorithm":"squarified"}]},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p>Things have changed since Luxembourg and Norway are the countries with the highest GDP per capita.</p>
<p>Let’s now see which are the countries with highest suicide rates that year.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">suicide_<span class="dv">2014</span> &lt;-<span class="st"> </span>suicide <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(country, year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="kw">summarize</span>( <span class="dt">count =</span> <span class="kw">n</span>(), <span class="dt">population =</span> <span class="kw">sum</span>(population), <span class="dt">suicide_total =</span> <span class="kw">sum</span>(suicides<span class="fl">.100</span>k.pop)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-3" title="3"><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2014</span>)</a></code></pre></div>
<pre><code>## Warning: &#39;hc_add_series_treemap&#39; is deprecated.
## Use &#39;hctreemap&#39; instead.
## See help(&quot;Deprecated&quot;)</code></pre>
<div id="htmlwidget-7e9dc8f5831d560eae47" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-7e9dc8f5831d560eae47">{"x":{"hc_opts":{"title":{"text":"Suicides per 100k deaths"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"data":[{"name":"Argentina","value":111.35,"valuecolor":1,"level":1,"color":"#E19B7A","id":"argentina"},{"name":"Armenia","value":37.01,"valuecolor":1,"level":1,"color":"#12BCD4","id":"armenia"},{"name":"Australia","value":149.07,"valuecolor":1,"level":1,"color":"#00C1BB","id":"australia"},{"name":"Austria","value":209.82,"valuecolor":1,"level":1,"color":"#EB9299","id":"austria"},{"name":"Bahrain","value":6.52,"valuecolor":1,"level":1,"color":"#00C19F","id":"bahrain"},{"name":"Belarus","value":252.91,"valuecolor":1,"level":1,"color":"#ED8EB7","id":"belarus"},{"name":"Belgium","value":201.85,"valuecolor":1,"level":1,"color":"#56BF81","id":"belgium"},{"name":"Belize","value":90.95,"valuecolor":1,"level":1,"color":"#E58FD0","id":"belize"},{"name":"Bosnia and Herzegovina","value":109.5,"valuecolor":1,"level":1,"color":"#83BA64","id":"bosnia_and_herzegovina"},{"name":"Brazil","value":73.13,"valuecolor":1,"level":1,"color":"#D195E3","id":"brazil"},{"name":"Bulgaria","value":139.77,"valuecolor":1,"level":1,"color":"#A6B252","id":"bulgaria"},{"name":"Chile","value":137.37,"valuecolor":1,"level":1,"color":"#B1A0EC","id":"chile"},{"name":"Colombia","value":66.62,"valuecolor":1,"level":1,"color":"#C2AA53","id":"colombia"},{"name":"Costa Rica","value":70.85,"valuecolor":1,"level":1,"color":"#86ADEA","id":"costa_rica"},{"name":"Croatia","value":222.04,"valuecolor":1,"level":1,"color":"#D8A069","id":"croatia"},{"name":"Cuba","value":184.63,"valuecolor":1,"level":1,"color":"#4BB7DF","id":"cuba"},{"name":"Cyprus","value":57.1,"valuecolor":1,"level":1,"color":"#00BECB","id":"cyprus"},{"name":"Czech Republic","value":175.29,"valuecolor":1,"level":1,"color":"#E69786","id":"czech_republic"},{"name":"Denmark","value":137.73,"valuecolor":1,"level":1,"color":"#00C1B1","id":"denmark"},{"name":"Ecuador","value":66.02,"valuecolor":1,"level":1,"color":"#ED90A5","id":"ecuador"},{"name":"El Salvador","value":101.84,"valuecolor":1,"level":1,"color":"#31C193","id":"el_salvador"},{"name":"Estonia","value":258.91,"valuecolor":1,"level":1,"color":"#EB8DC2","id":"estonia"},{"name":"Finland","value":177.16,"valuecolor":1,"level":1,"color":"#69BD75","id":"finland"},{"name":"France","value":179.56,"valuecolor":1,"level":1,"color":"#DF91D9","id":"france"},{"name":"Georgia","value":74.49,"valuecolor":1,"level":1,"color":"#92B75B","id":"georgia"},{"name":"Germany","value":153.04,"valuecolor":1,"level":1,"color":"#C69AE8","id":"germany"},{"name":"Greece","value":59.82,"valuecolor":1,"level":1,"color":"#B2AF4F","id":"greece"},{"name":"Guatemala","value":45.88,"valuecolor":1,"level":1,"color":"#A1A5EC","id":"guatemala"},{"name":"Hungary","value":244.31,"valuecolor":1,"level":1,"color":"#CCA65A","id":"hungary"},{"name":"Iceland","value":197.96,"valuecolor":1,"level":1,"color":"#6FB1E7","id":"iceland"},{"name":"Ireland","value":119.68,"valuecolor":1,"level":1,"color":"#DE9C74","id":"ireland"},{"name":"Israel","value":71.26,"valuecolor":1,"level":1,"color":"#2ABAD7","id":"israel"},{"name":"Italy","value":82.13,"valuecolor":1,"level":1,"color":"#00C0C1","id":"italy"},{"name":"Japan","value":218.21,"valuecolor":1,"level":1,"color":"#EA9493","id":"japan"},{"name":"Kazakhstan","value":257.09,"valuecolor":1,"level":1,"color":"#00C1A5","id":"kazakhstan"},{"name":"Kuwait","value":15.86,"valuecolor":1,"level":1,"color":"#EE8EB1","id":"kuwait"},{"name":"Kyrgyzstan","value":111.79,"valuecolor":1,"level":1,"color":"#4BC087","id":"kyrgyzstan"},{"name":"Latvia","value":248.81,"valuecolor":1,"level":1,"color":"#E78ECC","id":"latvia"},{"name":"Lithuania","value":401.27,"valuecolor":1,"level":1,"color":"#7BBB6A","id":"lithuania"},{"name":"Luxembourg","value":147.88,"valuecolor":1,"level":1,"color":"#D694E0","id":"luxembourg"},{"name":"Malta","value":102.08,"valuecolor":1,"level":1,"color":"#A0B454","id":"malta"},{"name":"Mauritius","value":115.45,"valuecolor":1,"level":1,"color":"#B89EEB","id":"mauritius"},{"name":"Mexico","value":68.38,"valuecolor":1,"level":1,"color":"#BDAC51","id":"mexico"},{"name":"Netherlands","value":121.42,"valuecolor":1,"level":1,"color":"#8FAAEB","id":"netherlands"},{"name":"Nicaragua","value":71.4,"valuecolor":1,"level":1,"color":"#D4A263","id":"nicaragua"},{"name":"Norway","value":127.23,"valuecolor":1,"level":1,"color":"#59B5E2","id":"norway"},{"name":"Oman","value":1.51,"valuecolor":1,"level":1,"color":"#00BDCF","id":"oman"},{"name":"Panama","value":55.98,"valuecolor":1,"level":1,"color":"#E49980","id":"panama"},{"name":"Paraguay","value":72.15,"valuecolor":1,"level":1,"color":"#00C1B6","id":"paraguay"},{"name":"Poland","value":178.3,"valuecolor":1,"level":1,"color":"#EC919F","id":"poland"},{"name":"Portugal","value":153.89,"valuecolor":1,"level":1,"color":"#1DC199","id":"portugal"},{"name":"Puerto Rico","value":77.09,"valuecolor":1,"level":1,"color":"#EC8EBC","id":"puerto_rico"},{"name":"Qatar","value":18.99,"valuecolor":1,"level":1,"color":"#60BE7B","id":"qatar"},{"name":"Republic of Korea","value":385.33,"valuecolor":1,"level":1,"color":"#E290D5","id":"republic_of_korea"},{"name":"Romania","value":131.03,"valuecolor":1,"level":1,"color":"#8BB860","id":"romania"},{"name":"Russian Federation","value":259.22,"valuecolor":1,"level":1,"color":"#CC97E5","id":"russian_federation"},{"name":"Saint Lucia","value":91.56,"valuecolor":1,"level":1,"color":"#ACB150","id":"saint_lucia"},{"name":"Saint Vincent and Grenadines","value":80.78,"valuecolor":1,"level":1,"color":"#AAA3EC","id":"saint_vincent_and_grenadines"},{"name":"Serbia","value":216.78,"valuecolor":1,"level":1,"color":"#C7A856","id":"serbia"},{"name":"Seychelles","value":43.33,"valuecolor":1,"level":1,"color":"#7BAFE9","id":"seychelles"},{"name":"Singapore","value":131.78,"valuecolor":1,"level":1,"color":"#DB9E6E","id":"singapore"},{"name":"Slovakia","value":132.82,"valuecolor":1,"level":1,"color":"#3DB9DB","id":"slovakia"},{"name":"Slovenia","value":240.37,"valuecolor":1,"level":1,"color":"#00BFC6","id":"slovenia"},{"name":"South Africa","value":15.08,"valuecolor":1,"level":1,"color":"#E8958D","id":"south_africa"},{"name":"Spain","value":104.35,"valuecolor":1,"level":1,"color":"#00C1AB","id":"spain"},{"name":"Suriname","value":357.34,"valuecolor":1,"level":1,"color":"#EE8FAB","id":"suriname"},{"name":"Sweden","value":149.05,"valuecolor":1,"level":1,"color":"#40C08D","id":"sweden"},{"name":"Switzerland","value":162.1,"valuecolor":1,"level":1,"color":"#E98EC7","id":"switzerland"},{"name":"Thailand","value":76.96,"valuecolor":1,"level":1,"color":"#73BC6F","id":"thailand"},{"name":"Turkey","value":30.83,"valuecolor":1,"level":1,"color":"#DB92DC","id":"turkey"},{"name":"Turkmenistan","value":28.15,"valuecolor":1,"level":1,"color":"#99B657","id":"turkmenistan"},{"name":"Ukraine","value":250.5,"valuecolor":1,"level":1,"color":"#C09CE9","id":"ukraine"},{"name":"United Kingdom","value":83.93,"valuecolor":1,"level":1,"color":"#B8AD50","id":"united_kingdom"},{"name":"United States","value":171.33,"valuecolor":1,"level":1,"color":"#98A8EC","id":"united_states"},{"name":"Uruguay","value":248.64,"valuecolor":1,"level":1,"color":"#D0A45E","id":"uruguay"},{"name":"Uzbekistan","value":85.12,"valuecolor":1,"level":1,"color":"#64B3E4","id":"uzbekistan"}],"type":"treemap","layoutAlgorithm":"squarified"}]},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p>Lithuania, South Korea and Suriname have the highest suicide rates in 2014.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-exploration.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="how-the-suicides-rates-have-evolved.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
